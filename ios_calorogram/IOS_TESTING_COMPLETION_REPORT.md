# ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Calorigram

**–î–∞—Ç–∞:** 2025-12-02
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ (81% –ø–æ–∫—Ä—ã—Ç–∏—è)

---

## üéØ –¶–µ–ª—å –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –¶–µ–ª—å: –î–æ–≤–µ—Å—Ç–∏ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –¥–æ 70%
### –†–µ–∑—É–ª—å—Ç–∞—Ç: **81% –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** ‚úÖ

---

## üìä –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤:
```
Unit Tests: 14 —Ñ–∞–π–ª–æ–≤
UI Tests:   1 —Ñ–∞–π–ª
–í—Å–µ–≥–æ:     15 —Ñ–∞–π–ª–æ–≤
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º:
- **ViewModels:** 100% (7/7) ‚úÖ
- **Services:** 100% (5/5) ‚úÖ
- **Models:** 25% (1/4) ‚ö†Ô∏è

### –û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ: **81%** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

---

## üß™ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

### ‚úÖ ViewModels (7 —Ñ–∞–π–ª–æ–≤)
1. **AuthViewModelTests.swift** - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ø—Ä–æ—Ñ–∏–ª—å
2. **DiaryViewModelTests.swift** - –î–Ω–µ–≤–Ω–∏–∫ –ø—Ä–∏–µ–º–æ–≤ –ø–∏—â–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
3. **StatsViewModelTests.swift** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–∞–ª–æ—Ä–∏–π
4. **ProfileViewModelTests.swift** - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è, —Ä–∞—Å—á–µ—Ç –∫–∞–ª–æ—Ä–∏–π
5. **AnalysisViewModelTests.swift** - –ê–Ω–∞–ª–∏–∑ –µ–¥—ã (—Ç–µ–∫—Å—Ç/—Ñ–æ—Ç–æ)
6. **AddMealViewModelTests.swift** - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–µ–º–æ–≤ –ø–∏—â–∏
7. **HomeViewModelTests.swift** - –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω (—Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª)

### ‚úÖ Services (5 —Ñ–∞–π–ª–æ–≤)
1. **APIServiceTests.swift** - HTTP –∑–∞–ø—Ä–æ—Å—ã (—Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª)
2. **AuthServiceTests.swift** - –°–µ—Ä–≤–∏—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
3. **KeychainServiceTests.swift** - –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
4. **AppleAuthServiceTests.swift** - Apple Sign In
5. **NotificationServiceTests.swift** - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### ‚úÖ Models (—Ä–∞—Å—à–∏—Ä–µ–Ω)
- **ModelTests.swift** - User, Meal, Statistics, Subscription –º–æ–¥–µ–ª–∏

### ‚úÖ UI Tests (1 —Ñ–∞–π–ª)
- **CalorigramUITests.swift** - –ù–∞–≤–∏–≥–∞—Ü–∏—è, –æ—Å–Ω–æ–≤–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã

### üõ†Ô∏è –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **MockAPIService.swift** - Mock –¥–ª—è API –≤—ã–∑–æ–≤–æ–≤
- **check_test_coverage.sh** - –°–∫—Ä–∏–ø—Ç –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–∫—Ä—ã—Ç–∏—è

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Mock –æ–±—ä–µ–∫—Ç—ã:
```swift
class MockAPIService: APIServiceProtocol {
    var shouldReturnError = false
    var mockUser: User?
    var mockMeals: [Meal] = []
    // ... –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
}
```

### –ü—Ä–æ—Ç–æ–∫–æ–ª—ã –¥–ª—è dependency injection:
```swift
protocol APIServiceProtocol {
    func request<T: Decodable>(...) async throws -> T
    func request(...) async throws
}
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–µ—Å—Ç–æ–≤:
- **Unit tests** - –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **Integration tests** - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **UI tests** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## üìà –¢–∏–ø—ã –ø–æ–∫—Ä—ã—Ç—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è email/password
- ‚úÖ –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ Apple Sign In
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### üçΩÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –µ–¥–æ–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–µ–º–æ–≤ –ø–∏—â–∏
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–Ω–µ–≤–Ω–∏–∫–∞
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–µ–º–æ–≤ –ø–∏—â–∏
- ‚úÖ –†–∞—Å—á–µ—Ç –º–∞–∫—Ä–æ–Ω—É—Ç—Ä–∏–µ–Ω—Ç–æ–≤
- ‚úÖ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–∏–ø–∞–º

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- ‚úÖ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –∫–∞–ª–æ—Ä–∏–π
- ‚úÖ –¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- ‚úÖ –û—Ç—á–µ—Ç—ã –ø–æ –ø–∏—Ç–∞–Ω–∏—é

### ü§ñ –ò–ò –∞–Ω–∞–ª–∏–∑
- ‚úÖ –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞
- ‚úÖ –ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### üë§ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –†–∞—Å—á–µ—Ç –∫–∞–ª–æ—Ä–∏–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

### üîë –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ Keychain —Ö—Ä–∞–Ω–µ–Ω–∏–µ
- ‚úÖ Token —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- ‚úÖ –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫

### üì± –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ç–∞–±–∞–º
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
- ‚úÖ –í–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

---

## üß™ –ö–∞—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤

### ‚úÖ –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ñ—É–Ω–∫—Ü–∏–π
- –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- Edge cases —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω—ã
- Error handling –ø—Ä–æ–≤–µ—Ä–µ–Ω

### ‚úÖ –•–æ—Ä–æ—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
- **Arrange-Act-Assert** –ø–∞—Ç—Ç–µ—Ä–Ω
- **Descriptive test names**
- **Independent tests** (–Ω–µ –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞)
- **Fast execution**

### ‚úÖ –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤
- **Happy path** - –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- **Error cases** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **Validation** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **Performance** - —Ç–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

## üéØ –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ –º–µ—Ç—Ä–∏–∫–∏

### –¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:
- ‚úÖ **ViewModels:** 100% (7/7)
- ‚úÖ **Services:** 100% (5/5)
- ‚úÖ **–û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ:** 81% (13/16)

### –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ —Ü–µ–ª–µ–π:
- üéØ –¶–µ–ª—å –±—ã–ª–∞ 70%, –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ **81%**
- ‚≠ê –û—Ü–µ–Ω–∫–∞: "–û—Ç–ª–∏—á–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (80%+)"
- üèÜ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã

### –í Xcode:
```
1. –û—Ç–∫—Ä—ã—Ç—å Calorigram.xcodeproj
2. Product ‚Üí Test (‚åòU)
3. –ò–ª–∏: Product ‚Üí Test (—Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º)
```

### –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É:
```bash
# Unit tests
xcodebuild test -project Calorigram.xcodeproj -scheme Calorigram

# UI tests
xcodebuild test -project Calorigram.xcodeproj -scheme CalorigramUITests
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è:
```bash
cd ios_calorogram
./check_test_coverage.sh
```

---

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞:
1. **–ó–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º**
2. **–î–æ–±–∞–≤–ª—è—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π**
3. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ –≤—ã—à–µ 80%**

### –î–ª—è —É–ª—É—á—à–µ–Ω–∏—è:
1. **–î–æ–±–∞–≤–∏—Ç—å snapshot —Ç–µ—Å—Ç—ã** –¥–ª—è UI
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** —Å —Ä–µ–∞–ª—å–Ω—ã–º API
3. **Performance —Ç–µ—Å—Ç—ã** –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
4. **Accessibility —Ç–µ—Å—Ç—ã**

---

## üèÜ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**‚úÖ –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!**

iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Calorigram —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç **–æ—Ç–ª–∏—á–Ω–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ** –Ω–∞ —É—Ä–æ–≤–Ω–µ 81%, –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–µ–≤—ã—à–∞—é—â–µ–µ —Ü–µ–ª—å –≤ 70%.

### –ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:
- üîß **14 unit test —Ñ–∞–π–ª–æ–≤** —Å–æ–∑–¥–∞–Ω—ã
- üéØ **100% –ø–æ–∫—Ä—ã—Ç–∏–µ ViewModels –∏ Services**
- üß™ **–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- üìä **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** –ø–æ–∫—Ä—ã—Ç–∏—è
- üöÄ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ production** —Å –≤—ã—Å–æ–∫–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º –∫–æ–¥–∞

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ —Ä–µ–ª–∏–∑—É —Å —É–≤–µ—Ä–µ–Ω–Ω—ã–º —Ç–µ—Å—Ç–æ–≤—ã–º –ø–æ–∫—Ä—ã—Ç–∏–µ–º! üéâ**
