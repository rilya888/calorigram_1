# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. Email/Password –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

**–®–∞–≥–∏:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É "Email"
3. –ù–∞–∂–º–∏—Ç–µ "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è" (–µ—Å–ª–∏ –µ—Å—Ç—å) –∏–ª–∏ "–í–æ–π—Ç–∏"
4. –í–≤–µ–¥–∏—Ç–µ:
   - Email: `test@example.com`
   - Password: `password123`
   - Name: `Test User`
5. –ù–∞–∂–º–∏—Ç–µ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
- ‚úÖ –¢–æ–∫–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Keychain
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ª–æ–≥–∞—Ö:**
- –ù–µ—Ç –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏
- –ù–µ—Ç –æ—à–∏–±–æ–∫ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
- –°—Ç–∞—Ç—É—Å –∫–æ–¥ 200 –æ—Ç `/api/auth/register`

---

### 2. Email/Password –í—Ö–æ–¥

**–®–∞–≥–∏:**
1. –í—ã–π–¥–∏—Ç–µ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã)
2. –í—ã–±–µ—Ä–∏—Ç–µ "Email"
3. –í–≤–µ–¥–∏—Ç–µ:
   - Email: `test@example.com`
   - Password: `password123`
4. –ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥
- ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
- ‚úÖ –¢–æ–∫–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫:**
- –ù–µ–≤–µ—Ä–Ω—ã–π email/–ø–∞—Ä–æ–ª—å ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email ‚Üí –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

---

### 3. Phone SMS –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**–®–∞–≥–∏:**
1. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É "–¢–µ–ª–µ—Ñ–æ–Ω"
2. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: `+1234567890` (–∏–ª–∏ –ª—é–±–æ–π —Ñ–æ—Ä–º–∞—Ç)
3. –ù–∞–∂–º–∏—Ç–µ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥"
4. –î–æ–∂–¥–∏—Ç–µ—Å—å SMS (–≤ development —Ä–µ–∂–∏–º–µ –∫–æ–¥ –±—É–¥–µ—Ç –≤ –ª–æ–≥–∞—Ö backend)
5. –í–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∫–æ–¥
6. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ)
- ‚úÖ –ü–æ—Å–ª–µ –≤–≤–æ–¥–∞ –∫–æ–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –í development —Ä–µ–∂–∏–º–µ –∫–æ–¥ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å backend
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–¥–∞

---

### 4. Apple Sign In

**–®–∞–≥–∏:**
1. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É "Apple ID"
2. –ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏ —Å Apple"
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º –¥–∏–∞–ª–æ–≥–µ Apple
4. –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏–∏ (–ø–æ–¥–µ–ª–∏—Ç—å—Å—è email –∏–ª–∏ —Å–∫—Ä—ã—Ç—å)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω—ã–π –¥–∏–∞–ª–æ–≥ Apple Sign In
- ‚úÖ –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:**
- Apple Sign In —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –∏–ª–∏ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º Apple ID
- –ù–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Apple ID –≤ Settings ‚Üí Sign-In & Security

---

### 5. Refresh Token –ú–µ—Ö–∞–Ω–∏–∑–º

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ, –ø–æ–∫–∞ access token –∏—Å—Ç–µ—á–µ—Ç (–æ–±—ã—á–Ω–æ 15 –º–∏–Ω—É—Ç)
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –ª—é–±–æ–π –∑–∞–ø—Ä–æ—Å –∫ API (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±–Ω–æ–≤–∏—Ç–µ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü—Ä–∏ 401 –æ—à–∏–±–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è refresh token
- ‚úÖ –ù–æ–≤—ã–π access token —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- ‚úÖ –ó–∞–ø—Ä–æ—Å –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è —Å –Ω–æ–≤—ã–º —Ç–æ–∫–µ–Ω–æ–º
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–º–µ—á–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–¥–µ:**
- –ú–µ—Ç–æ–¥ `refreshToken()` –≤ `APIService.swift` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ù–æ–≤—ã–π —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Keychain

---

### 6. Logout

**–®–∞–≥–∏:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —ç–∫—Ä–∞–Ω Profile
2. –ù–∞–∂–º–∏—Ç–µ "–í—ã–π—Ç–∏"
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤—ã—Ö–æ–¥

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –¢–æ–∫–µ–Ω—ã —É–¥–∞–ª—è—é—Ç—Å—è –∏–∑ Keychain
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω

---

## üîç –ì–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏

### –í Xcode:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å: **‚åò‚áßY** (Command + Shift + Y)
2. –§–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ "Calorigram" –∏–ª–∏ "APIService"
3. –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ —Å–µ—Ç–∏, –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –í Backend:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- –ò—â–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/auth/*`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: "Network error" –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ `Constants.swift`: `apiBaseURL`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞

### –ü—Ä–æ–±–ª–µ–º–∞: "Decoding error"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–æ–¥–µ–ª–∏ –≤ iOS —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç backend
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç backend
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏: —Ç–∞–º –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω response data

### –ü—Ä–æ–±–ª–µ–º–∞: Apple Sign In –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ

**–†–µ—à–µ–Ω–∏–µ:**
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Apple ID –≤ Settings ‚Üí Sign-In & Security
- –ò–ª–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

### –ü—Ä–æ–±–ª–µ–º–∞: Refresh token –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ refresh token —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Keychain
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞: `{"refresh_token": "..."}`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend endpoint `/api/auth/refresh` —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –æ—Ç—á–µ—Ç–∞

–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–º–µ—Ç—å—Ç–µ:

- [ ] Email —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Email –≤—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Phone SMS –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Phone SMS –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Apple Sign In —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ)
- [ ] Refresh token –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- [ ] Logout –æ—á–∏—â–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
- [ ] –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] Loading states –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è
- [ ] –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –ø–æ–Ω—è—Ç–Ω—ã

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—Å–µ –º–µ—Ç–æ–¥—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã:

1. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –æ—Å–Ω–æ–≤–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤ (`test-main-screens`)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞ HomeView, DiaryView, StatsView
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏

