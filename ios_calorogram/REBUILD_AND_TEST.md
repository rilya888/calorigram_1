# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–µ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### 1. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –≤ Xcode

–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç:
- `Calorigram/Views/Welcome/WelcomeScreen.swift`

**–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Xcode
2. –í –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞ (—Å–ª–µ–≤–∞) –Ω–∞–π–¥–∏—Ç–µ –ø–∞–ø–∫—É `Views`
3. –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ ‚Üí "Add Files to Calorigram..."
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª `Calorigram/Views/Welcome/WelcomeScreen.swift`
5. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≥–∞–ª–æ—á–∫–∞ "Add to targets: Calorigram" —Å—Ç–æ–∏—Ç
6. –ù–∞–∂–º–∏—Ç–µ "Add"

**–ò–ª–∏ —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ xcodegen):**
```bash
cd /Users/mac/ios_calorogram
xcodegen generate
```

### 2. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç

```bash
# –û—á–∏—Å—Ç–∏—Ç—å
Product ‚Üí Clean Build Folder (‚áß‚åòK)

# –°–æ–±—Ä–∞—Ç—å
Product ‚Üí Build (‚åòB)

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
Product ‚Üí Run (‚åòR)
```

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å flow

#### –¢–µ—Å—Ç 1: –ù–æ–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
1. –£–¥–∞–ª–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ (–¥–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ ‚Üí Delete)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–∑ Xcode (‚åòR)
3. **–û–∂–∏–¥–∞–µ—Ç—Å—è:** AuthView —Å –≤—ã–±–æ—Ä–æ–º —Å–ø–æ—Å–æ–±–∞
4. –í—ã–±–µ—Ä–∏—Ç–µ Email ‚Üí –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
5. –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ ‚Üí "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"
6. **–û–∂–∏–¥–∞–µ—Ç—Å—è:** WelcomeScreen —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º
7. –ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å"
8. **–û–∂–∏–¥–∞–µ—Ç—Å—è:** OnboardingView (–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è)
9. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è
10. **–û–∂–∏–¥–∞–µ—Ç—Å—è:** MainTabView

#### –¢–µ—Å—Ç 2: –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—Ö–æ–¥
1. –ù–∞–∂–º–∏—Ç–µ Logout –≤ –ø—Ä–æ—Ñ–∏–ª–µ
2. **–û–∂–∏–¥–∞–µ—Ç—Å—è:** AuthView
3. –í—ã–±–µ—Ä–∏—Ç–µ Email ‚Üí –í—Ö–æ–¥
4. –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ
5. **–û–∂–∏–¥–∞–µ—Ç—Å—è:** MainTabView (–±–µ–∑ Welcome/Onboarding)

#### –¢–µ—Å—Ç 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (‚åò.)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞ (‚åòR)
3. **–û–∂–∏–¥–∞–µ—Ç—Å—è:** MainTabView (—Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω)

## –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ Xcode

### –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:
```
üìù Starting registration for email: test@test.com
‚úÖ Registration successful, user ID: 7
‚ö†Ô∏è Failed to load current user: decodingError  (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –ø—É—Å—Ç–æ–π)
```

### –ü—Ä–∏ –≤—Ö–æ–¥–µ:
```
üîê Starting login for email: test@test.com
‚úÖ Login successful, user ID: 7
üåê API Request: GET /api/profile/me
‚úÖ Successfully decoded response
```

### –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è:
```
üåê API Request: PUT /api/profile
üì§ Request body: {"name":"...", "age":30, ...}
üì• Response: Status 200
```

## –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ Railway

### –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:
```
INFO:app.api.auth:üîµ iOS Register endpoint CALLED!
INFO:app.api.auth:üîµ Email: test@test.com, Name: Test
INFO:app.api.auth:‚úÖ Created user with ID: 7, email: test@test.com, name: Test
INFO:app.api.auth:‚úÖ Committed user to database. User ID: 7
INFO:app.api.auth:‚úÖ Verified: User 7 exists in database (email: test@test.com)
INFO:app.api.auth:‚úÖ Created tokens for user 7
```

### –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è:
```
INFO:app.api.profile:üîç Profile update called for user_id: 7
INFO:app.api.profile:üîç Profile data received: {...}
INFO:app.api.profile:üîç Looking for user in database for profile...
INFO:app.api.profile:üîç Searching for user with ID: 7
INFO:app.api.profile:‚úÖ User found in DB: Test
```

## –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã

### "Cannot find type 'RegistrationMethod' in scope"
**–†–µ—à–µ–Ω–∏–µ:** –§–∞–π–ª `RegistrationMethodView.swift` –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ target. Enum —É–∂–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω –≤ `AuthView.swift`, –ø–æ—ç—Ç–æ–º—É –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å `RegistrationMethodView.swift` –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ.

### "User not found" –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è
**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑–µ  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∏ —Å "Created user" –∏ "Verified"

### –°—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è Onboarding –±–µ–∑ Welcome
**–ü—Ä–∏—á–∏–Ω–∞:** –§–ª–∞–≥ `hasSeenWelcome` —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω  
**–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

‚úÖ **Backend:**
- Endpoints —Ä–∞–±–æ—Ç–∞—é—Ç: `/api/auth/register`, `/api/profile`, `/api/profile/calculate`
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ

‚úÖ **iOS:**
- Flow —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω: Auth ‚Üí Welcome ‚Üí Onboarding ‚Üí Main
- –§–ª–∞–≥–∏ AppStorage —É–ø—Ä–∞–≤–ª—è—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±—Ä–æ—Å —Ñ–ª–∞–≥–æ–≤ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

‚è≥ **–¢—Ä–µ–±—É–µ—Ç—Å—è:**
- –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Xcode
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫

