# üöÄ –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ OpenAI API

## ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

–ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ —Ä–∞–±–æ—Ç—É —Å OpenAI API —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–¥–µ–ª–∏ **gpt-4o-mini**.

### –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:

1. **config.py** - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è OpenAI API
2. **api_client.py** - –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å OpenAI API
3. **voice_handler.py** - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è OpenAI Whisper API
4. **env_example.txt** - –æ–±–Ω–æ–≤–ª–µ–Ω —Å –Ω–æ–≤—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ .env —Ñ–∞–π–ª–∞

### 1. –ü–æ–ª—É—á–∏—Ç–µ OpenAI API –∫–ª—é—á

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://platform.openai.com/api-keys
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á (–æ–Ω –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `sk-`)

### 2. –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ –¥–æ–±–∞–≤—å—Ç–µ/–∏–∑–º–µ–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏:

```env
# Telegram Bot Configuration
BOT_TOKEN=–≤–∞—à_—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞

# OpenAI API Configuration (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)
OPENAI_API_KEY=sk-–≤–∞—à_openai_api_–∫–ª—é—á_–∑–¥–µ—Å—å
BASE_URL=https://api.openai.com/v1/

# OpenAI Models (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
OPENAI_MODEL=gpt-4o-mini
OPENAI_VISION_MODEL=gpt-4o-mini
OPENAI_WHISPER_MODEL=whisper-1

# Database Configuration
DATABASE_PATH=users.db

# Test Mode
TEST_MODE=False

# Admin IDs
ADMIN_IDS=160308091
```

### 3. –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ .env

**–û—Å–Ω–æ–≤–Ω–æ–π —Ç–æ–∫–µ–Ω –¥–ª—è OpenAI –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è:**
```
OPENAI_API_KEY
```

–≠—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è! –ë–µ–∑ –Ω–µ–µ –±–æ—Ç –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è.

### 4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –º–æ–¥–µ–ª–∏ OpenAI:

- **OPENAI_MODEL** - –º–æ–¥–µ–ª—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `gpt-4o-mini`)
  - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã: `gpt-4`, `gpt-3.5-turbo`
  
- **OPENAI_VISION_MODEL** - –º–æ–¥–µ–ª—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `gpt-4o-mini`)
  - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã: `gpt-4-vision-preview`, `gpt-4-turbo`
  
- **OPENAI_WHISPER_MODEL** - –º–æ–¥–µ–ª—å –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `whisper-1`)
  - –≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–∞—è –º–æ–¥–µ–ª—å Whisper

### 5. –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ .env —Ñ–∞–π–ª–∞

```env
BOT_TOKEN=8378784066:AAH44kisqSXLU5Cc0XzN9SIQV_kcZPG3-f0
OPENAI_API_KEY=sk-proj-abcdefghijklmnopqrstuvwxyz1234567890
BASE_URL=https://api.openai.com/v1/
OPENAI_MODEL=gpt-4o-mini
OPENAI_VISION_MODEL=gpt-4o-mini
OPENAI_WHISPER_MODEL=whisper-1
DATABASE_PATH=users.db
TEST_MODE=False
ADMIN_IDS=160308091
```

## üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ .env —Ñ–∞–π–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:

```bash
python3 main.py
```

–ï—Å–ª–∏ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
Logging configured - Level: INFO, File: logs/bot.log
Bot configuration completed
–ë–æ—Ç @Calorigram_Test_Bot –∑–∞–ø—É—â–µ–Ω...
```

## ‚ö° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ OpenAI

1. **gpt-4o-mini** - –±—ã—Å—Ç—Ä–∞—è –∏ —ç–∫–æ–Ω–æ–º–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å
2. **–£–ª—É—á—à–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - Vision API –æ—Ç OpenAI
3. **–¢–æ—á–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏** - Whisper API
4. **–ï–¥–∏–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞** - –≤—Å–µ –≤ –æ–¥–Ω–æ–º API

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

- **gpt-4o-mini**: ~$0.15 –∑–∞ 1M input —Ç–æ–∫–µ–Ω–æ–≤, ~$0.60 –∑–∞ 1M output —Ç–æ–∫–µ–Ω–æ–≤
- **Whisper**: ~$0.006 –∑–∞ –º–∏–Ω—É—Ç—É –∞—É–¥–∏–æ
- **Vision**: –≤–∫–ª—é—á–µ–Ω–æ –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å –º–æ–¥–µ–ª–∏

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "OPENAI_API_KEY –Ω–µ –Ω–∞–π–¥–µ–Ω"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ .env —Ñ–∞–π–ª–µ –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–∞ `OPENAI_API_KEY=sk-...`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç –ø—Ä–æ–±–µ–ª–æ–≤ –≤–æ–∫—Ä—É–≥ –∑–Ω–∞–∫–∞ `=`

### –û—à–∏–±–∫–∞: "Invalid API key"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å API –∫–ª—é—á–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á –∞–∫—Ç–∏–≤–µ–Ω –Ω–∞ https://platform.openai.com/api-keys

### –û—à–∏–±–∫–∞: "Rate limit exceeded"
- –£ –≤–∞—Å –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –∫—Ä–µ–¥–∏—Ç—ã OpenAI
- –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ https://platform.openai.com/account/billing

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- OpenAI Documentation: https://platform.openai.com/docs
- GPT-4o-mini: https://platform.openai.com/docs/models/gpt-4o-mini
- Vision API: https://platform.openai.com/docs/guides/vision
- Whisper API: https://platform.openai.com/docs/guides/speech-to-text

